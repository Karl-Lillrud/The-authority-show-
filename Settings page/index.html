<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page.title">Account & Podcast Settings</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Font Awesome CDN for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- Header Component -->
    <header>
        <nav aria-label="Main Navigation" class="sidebar">
            <a href="#account-settings" data-i18n="nav.accountSettings">Account Settings</a>
            <a href="#security-settings" data-i18n="nav.securitySettings">Security Settings</a>
            <a href="#recovery" data-i18n="nav.recovery">Recovery</a>
            <a href="#podcast-management" data-i18n="nav.podcastManagement">Podcast Management</a>
            <a href="#subscriptions" data-i18n="nav.subscriptions">Subscriptions</a>
            <a href="#permissions" data-i18n="nav.permissions">Permissions & Roles</a>
        </nav>
        <div class="language-switcher">
            <button data-lang="en" aria-label="Switch to English">EN</button>
            <button data-lang="es" aria-label="Switch to Spanish">ES</button>
            <button data-lang="fr" aria-label="Switch to French">FR</button>
            <button data-lang="ar" aria-label="Switch to Arabic">AR</button>
            <button data-lang="de" aria-label="Switch to German">DE</button>
            <button data-lang="zh" aria-label="Switch to Chinese">ZH</button>
            <!-- Dark Mode Toggle -->
            <label class="switch" aria-label="Toggle Dark Mode">
                <input type="checkbox" id="theme-toggle" aria-checked="false">
                <span class="slider round"></span>
            </label>
        </div>
    </header>

    <main class="container">
        <!-- User Account Settings -->
        <section class="account-settings card" id="account-settings" aria-labelledby="account-settings-title">
            <h2 id="account-settings-title" data-i18n="accountSettings.title">Account Settings</h2>
            <div class="profile-pic">
                <img src="images/default-profile.png" alt="Profile Picture" data-i18n="accountSettings.profilePicture.alt">
                <input type="file" id="profile-upload" accept="image/*" aria-label="Upload Profile Picture">
                <label for="profile-upload" class="button button-secondary" data-i18n="accountSettings.profilePicture.upload">Upload</label>
            </div>
            <form id="account-form" class="form" novalidate>
                <div class="form-group">
                    <label for="name" data-i18n="accountSettings.form.nameLabel">Name:</label>
                    <input type="text" id="name" class="input-field" required aria-required="true" minlength="2" maxlength="50" data-i18n-placeholder="accountSettings.form.namePlaceholder" placeholder="Enter your full name" aria-describedby="name-error">
                    <span id="name-error" class="validation-message sr-only" data-i18n="accountSettings.form.nameError">Please enter a valid name (2-50 characters).</span>
                </div>

                <div class="form-group">
                    <label for="email" data-i18n="accountSettings.form.emailLabel">Email:</label>
                    <input type="email" id="email" class="input-field" required aria-required="true" data-i18n-placeholder="accountSettings.form.emailPlaceholder" placeholder="Enter your email address" aria-describedby="email-error">
                    <span id="email-error" class="validation-message sr-only" data-i18n="accountSettings.form.emailError">Please enter a valid email address.</span>
                </div>

                <div class="form-group">
                    <label for="password" data-i18n="accountSettings.form.passwordLabel">Password:</label>
                    <button type="button" id="change-password" class="button button-primary" data-i18n="accountSettings.form.changePassword" aria-haspopup="dialog">Change Password</button>
                </div>
            </form>
        </section>
        <main class="container">
            <!-- Security Settings -->
            <section class="security-settings card" id="security-settings" aria-labelledby="security-settings-title">
                <h2 id="security-settings-title" data-i18n="securitySettings.title">Security Settings</h2>
                <div class="toggle-container">
                    <span data-i18n="securitySettings.enable2FA">Two-Factor Authentication:</span>
                    <label class="switch" aria-label="Toggle Two-Factor Authentication">
                        <input type="checkbox" id="2fa-toggle" aria-checked="false">
                        <span class="slider round"></span>
                    </label>
                </div>
                
                <!-- 2FA Options: Hidden by Default -->
                <div id="2fa-options" style="display: none;">
                    <span data-i18n="securitySettings.2faMethod">Options:</span>
                    <label>
                        <input type="radio" name="2fa-method" id="2fa-sms" data-i18n="securitySettings.sms" value="sms" checked>
                        <span data-i18n="securitySettings.sms">SMS</span>
                    </label>
                    <label>
                        <input type="radio" name="2fa-method" id="2fa-auth" data-i18n="securitySettings.authApp" value="authApp">
                        <span data-i18n="securitySettings.authApp">Authenticator App</span>
                    </label>
                    
                    <!-- QR Code Container, Hidden by Default -->
                    <div id="qr-code-container" class="qr-code" style="display: none;">
                        <canvas id="qr-code"></canvas>
                        <p data-i18n="securitySettings.scanQR">Scan QR code</p>
                    </div>
                </div>
            </section>
        <!-- Recovery Section -->
        <section class="recovery card" id="recovery" aria-labelledby="recovery-title">
            <h2 id="recovery-title" data-i18n="recovery.title">Recovery</h2>
            <button type="button" id="lost-2fa" class="button button-secondary" data-i18n="recovery.lost2FA">Lost Two-Factor Authentication</button>
        </section>

       <!-- Podcast Management Section -->
<section class="podcast-management card" id="podcast-management" aria-labelledby="podcast-management-title">
    <h2 id="podcast-management-title" data-i18n="podcastManagement.title">Podcast Management</h2>
    
    <button type="button" id="edit-podcast" class="button button-primary" data-i18n="podcastManagement.editPodcast">Edit Podcast Details</button>

    <!-- Podcast Details Modal -->
    <div id="podcast-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-podcast-modal">&times;</span>
            <h2>Pod Profile</h2>
            <form id="podcast-form">
                <label for="podcast-name">POD Name</label>
                <input type="text" id="podcast-name" required>
                <label for="rss-feed">RSS Feed</label>
                <input type="text" id="rss-feed" required>
                <button type="submit">Save Changes</button>
            </form>
        </div>
    </div>

    <button id="manage-guests" class="button button-secondary">Manage Guests</button>
    <div id="guest-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-guest-modal">&times;</span>
            <h2>Guests</h2>
            <button id="podcast-link" class="button">URL Link</button>
            <table id="guest-table">
                <thead>
                    <tr>
                        <th>Guest Name</th>
                        <th>Email</th>
                        <th>Social Links</th>
                        <th>Date</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="add-guest" class="button">Add Guest</button>
            <button id="close-modal" class="button">Close</button>
        </div>
    </div>
    <button type="button" id="manage-tasks" class="button button-primary" data-i18n="podcastManagement.manageTasks">Manage Tasks</button>
    <div id="task-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-task-modal">&times;</span>
            <h2>Task Management</h2>
            <button id="add-episode" class="button">Add Episode</button>
            <button id="remove-episodes" class="button">Remove Episodes</button>
            <div class="task-dropdown">
                <button class="task-toggle" data-target="task-1">Episode 1 <i class="fas fa-chevron-down"></i></button>
                <span class="remove-episode hidden" data-target="task-1">❌</span>
                <div id="task-1" class="task-details">
                    <table>
                        <thead>
                            <tr>
                                <th>Task</th>
                                <th>Deadline</th>
                                <th>Team Member</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <button class="add-task" data-target="task-1">Add Task</button>
                </div>
            </div>
            <button id="save-task" class="button">Save</button>
        </div>
    </div>
    <button type="button" id="integration-settings" class="button button-secondary" data-i18n="podcastManagement.integrationSettings">Integration Settings</button>
</section>


        <!-- Subscriptions Section -->
        <section class="subscriptions card" id="subscriptions" aria-labelledby="subscriptions-title">
            <h2 id="subscriptions-title" data-i18n="subscriptions.title">Subscriptions</h2>
            <button type="button" id="subscribe" class="button button-primary" data-i18n="subscriptions.subscribe">Subscribe</button>
        </section>

        <!-- Permissions & Roles Section -->
        <section class="permissions card" id="permissions" aria-labelledby="permissions-title">
            <h2 id="permissions-title" data-i18n="permissions.title">Permissions & Roles</h2>
            <button type="button" id="add-role" class="button button-secondary" data-i18n="permissions.addRole">Team Members</button>
        </section>
    </main>

    <!-- Footer Component -->
    <footer>
        <div class="social-icons">
            <a href="https://www.facebook.com/yourprofile" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://twitter.com/yourprofile" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="https://www.instagram.com/yourprofile" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.linkedin.com/in/yourprofile" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        </div>
        <p data-i18n="footer.copy">© 2025 Podcast Manager. All rights reserved.</p>
    </footer>

    <!-- Toast Notification Container -->
    <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <!-- Toast messages will appear here -->
    </div>
    <div id="change-password-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal">&times;</span>
            <h2>Change Password</h2>
            <form id="change-password-form">
                <label for="current-password">Current Password:</label>
                <input type="password" id="current-password" required>
                <label for="new-password">New Password:</label>
                <input type="password" id="new-password" required>
                <label for="confirm-password">Confirm New Password:</label>
                <input type="password" id="confirm-password" required>
                <button type="submit">Save New Password</button>
            </form>
        </div>
    </div>
    

    <!-- Localization and Script Files -->
    <!-- Load i18next and i18next-http-backend BEFORE your script.js -->
   <!-- Load i18next first -->
<!-- Load i18next first -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/i18next/21.6.14/i18next.min.js"></script>

<!-- Load i18next-http-backend -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/i18next-http-backend/1.4.3/i18nextHttpBackend.min.js"></script>

<!-- Ensure the backend is available before loading script.js -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        if (typeof i18nextHttpBackend === "undefined") {
            console.error("i18nextHttpBackend is not loaded correctly.");
        } else {
            console.log("i18nextHttpBackend loaded successfully.");
        }
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<!-- Finally, load your script.js -->
<script src="script.js"></script>
</script>
    
</html>
