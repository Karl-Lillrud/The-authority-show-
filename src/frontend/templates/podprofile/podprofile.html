<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pod Profile</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/podprofile.css') }}"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='favicon/favicon.ico') }}"
    />
    <link rel="canonical" href="https://app.podmanager.ai" />
    <style>
      /* Additional styles for podcast preview and episodes */
      .podcast-preview-card {
        background-color: #f9f9f9;
        border-radius: 8px;
        padding: 16px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .dark-mode .podcast-preview-card {
        background-color: #2a2a2a;
        color: #f9f9f9;
      }

      .podcast-header {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
      }

      .podcast-image {
        width: 80px;
        height: 80px;
        border-radius: 4px;
        object-fit: cover;
        margin-right: 16px;
      }

      .podcast-info h2 {
        margin: 0 0 8px 0;
        font-size: 1.5rem;
      }

      .podcast-author,
      .podcast-category {
        margin: 0;
        font-size: 0.9rem;
        color: #666;
      }

      .dark-mode .podcast-author,
      .dark-mode .podcast-category {
        color: #ccc;
      }

      .podcast-description {
        margin-bottom: 16px;
        line-height: 1.5;
      }

      .social-media h3 {
        font-size: 1.1rem;
        margin-bottom: 8px;
      }

      .social-media ul {
        list-style: none;
        padding: 0;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .social-media li a {
        display: inline-block;
        padding: 4px 10px;
        background-color: #e0e0e0;
        border-radius: 16px;
        text-decoration: none;
        color: #333;
        font-size: 0.8rem;
        transition: background-color 0.2s;
      }

      .dark-mode .social-media li a {
        background-color: #444;
        color: #f0f0f0;
      }

      .social-media li a:hover {
        background-color: #d0d0d0;
      }

      .dark-mode .social-media li a:hover {
        background-color: #555;
      }

      .episodes-container {
        margin-top: 24px;
      }

      .episode-card {
        background-color: #fff;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 16px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .dark-mode .episode-card {
        background-color: #333;
        color: #f9f9f9;
      }

      .episode-header {
        display: flex;
        align-items: center;
        margin-bottom: 12px;
      }

      .episode-image {
        width: 60px;
        height: 60px;
        border-radius: 4px;
        object-fit: cover;
        margin-right: 12px;
      }

      .episode-info h3 {
        margin: 0 0 8px 0;
        font-size: 1.2rem;
      }

      .episode-meta {
        display: flex;
        gap: 12px;
        font-size: 0.8rem;
        color: #666;
      }

      .dark-mode .episode-meta {
        color: #ccc;
      }

      .episode-description {
        margin-bottom: 12px;
        line-height: 1.4;
        font-size: 0.9rem;
      }

      .episode-audio {
        margin-bottom: 12px;
      }

      .episode-audio audio {
        width: 100%;
      }

      .episode-link {
        display: inline-block;
        padding: 6px 12px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        font-size: 0.9rem;
      }

      .episode-link:hover {
        background-color: #0069d9;
      }

      .load-more-btn {
        display: block;
        width: 100%;
        padding: 8px;
        background-color: #f0f0f0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.9rem;
        margin-top: 8px;
      }

      .dark-mode .load-more-btn {
        background-color: #444;
        color: #f0f0f0;
      }

      .load-more-btn:hover {
        background-color: #e0e0e0;
      }

      .dark-mode .load-more-btn:hover {
        background-color: #555;
      }

      .hidden {
        display: none;
      }

      .loading {
        text-align: center;
        padding: 20px;
        color: #666;
      }

      .dark-mode .loading {
        color: #ccc;
      }

      .error {
        color: #d9534f;
        padding: 10px;
        border: 1px solid #d9534f;
        border-radius: 4px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-container">
        <button
          id="dark-mode-toggle"
          class="dark-mode-button"
          aria-label="Toggle Dark Mode"
        >
          ðŸŒ™
        </button>
        <div class="credits-container hidden" id="creditsContainer">
          <img
            src="{{ url_for('static', filename='images/Coins.png') }}"
            alt="Coins"
            class="coins"
          />
          <span class="credits">3500</span>
        </div>
      </div>
    </header>
    <input type="hidden" id="loggedInUserEmail" value="{{ user_email }}" />
    <main>
      <!-- Logo Container -->
      <div class="logo-container">
        <img
          src="{{ url_for('static', filename='images/PodManagerLogo.png') }}"
          alt="PodManager Logo"
        />
      </div>
      <!-- Pod Name Section -->
      <div class="container" id="pod-name-section">
        <h1 class="fancy-heading">POD INFO</h1>
        <form id="podNameForm">
          <div class="form-group">
            <div
              class="label-group"
              style="display: inline-flex; align-items: center; gap: 0.25rem"
            >
              <label for="podRss">RSS</label>
              <button class="help-button">?</button>
              <span class="help-text">
                To find your podcast's RSS feed URL, log in to your podcast
                hosting platform, navigate to your podcast settings or
                distribution options, and look for the "RSS Feed" section and
                paste that URL here.
              </span>
            </div>
            <input type="url" id="podRss" name="podRss" />
          </div>
          <div class="form-group">
            <label for="podName">Podcast's Name</label>
            <input type="text" id="podName" name="podName" required />
          </div>

          <!-- Podcast Preview Section -->
          <div id="podcast-preview" class="hidden"></div>

          <!-- Episodes Section -->
          <div class="episodes-section">
            <h2>Episodes</h2>
            <div id="episodes-container"></div>
            <button id="load-more-episodes" class="load-more-btn hidden">
              Load More Episodes
            </button>
          </div>

          <button type="button" class="button-primary" id="goToEmailSection">
            Next
          </button>
        </form>
      </div>
    </main>
    <script
      type="module"
      src="{{ url_for('static', filename='requests/podcastRequests.js') }}"
    ></script>
    <script
      type="module"
      src="{{ url_for('static', filename='js/podprofile.js') }}"
    ></script>
    <script
      src="https://unpkg.com/lazysizes@5.3.2/lazysizes.min.js"
      async
    ></script>
  </body>
</html>
