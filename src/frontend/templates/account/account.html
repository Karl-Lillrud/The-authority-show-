{% extends "components/base.html" %} 
{% block title %}Team Leaderboard Dashboard{% endblock %} 
{% block content %}
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PTPQQ5WSQV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-PTPQQ5WSQV');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Account Settings</title> 
<link rel="stylesheet" href="{{ url_for('static', filename='css/account/account.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/account/notification.css') }}" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
</head>
<body>
  <div class="account-container">
    <div class="account-header">
      <a href="/dashboard" class="back-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
          <path d="m15 18-6-6 6-6"></path>
        </svg>
        Back to Dashboard
      </a>
      <div class="header-content">
        <h1>Account Settings</h1>
        <!-- Notification Container -->
        <div id="header-notifications" class="notifications-container"></div>
      </div>
    </div>

    <div class="account-settings-wrapper">
      <!-- Sidebar -->
      <aside class="sidebar">
        <nav>
          <ul>
            <li class="sidebar-item active" data-target="profile-section" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Profile
            </li>
            <li class="sidebar-item" data-toggle="submenu" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
              Security
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron">
                <path d="m9 18 6-6-6-6"></path>
              </svg>
            </li>
            <ul class="submenu">
              <li class="submenu-item" data-target="security-2fa" tabindex="0">Two-Factor Authentication</li>
              <li class="submenu-item" data-target="security-recovery" tabindex="0">Password Recovery</li>
            </ul>
            <li class="sidebar-item" data-toggle="submenu" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              Settings
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron">
                <path d="m9 18 6-6-6-6"></path>
              </svg>
            </li>
            <ul class="submenu">
              <li class="submenu-item" data-target="profile-section" tabindex="0">Edit Profile</li>
              <!--<li class="submenu-item" data-target="settings-password" tabindex="0">Change Password</li>-->
              <li class="submenu-item" data-target="settings-delete" tabindex="0">Delete Account</li>
            </ul>
            <li class="sidebar-item" data-toggle="submenu" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                <path d="M4 10V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2H4"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <path d="M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"></path>
              </svg>
              Subscription
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron">
                <path d="m9 18 6-6-6-6"></path>
              </svg>
            </li>
            <ul class="submenu">
              <li class="submenu-item" data-target="subscription-choose" tabindex="0">Choose Subscription</li>
              <li class="submenu-item" data-target="subscription-change" tabindex="0">Change Subscription</li>
            </ul>
          </ul>
        </nav>
      </aside>

      <!-- Main Content Area -->
      <section class="main-content">
        <div class="settings-sections-container">
          <!-- Profile Section -->
          <div id="profile-section" class="settings-section active">
            <div class="section-header">
              <h2>Profile Information</h2>
              <p>View your personal information</p>
            </div>
            
            <div class="profile-content">
              <div class="profile-pic-container">
                <div class="profile-pic-wrapper">
                  <img id="profile-pic" src="{{ url_for('static', filename='images/profilepic.png') }}" alt="Profile Picture">
                  <div class="profile-pic-overlay">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="edit-icon">
                      <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path>
                      <path d="M12 20h9"></path>
                    </svg>
                  </div>
                </div>
                <button id="upload-pic" class="secondary-button">Change Photo</button>
              </div>
            </div>
            
            <!-- Notification Container -->
            <div id="profile-notifications" class="notifications-container"></div>
            
            <!-- Profile Information Card -->
            <div class="profile-info-card">
              <div class="profile-info-item">
                <div class="info-label">Full Name</div>
                <div class="info-value" id="display-full-name">Loading...</div>
              </div>
              
              <div class="profile-info-item">
                <div class="info-label">Email Address</div>
                <div class="info-value" id="display-email">Loading...</div>
              </div>
              
              <div class="profile-info-item">
                <div class="info-label">Phone Number</div>
                <div class="info-value" id="display-phone">Not provided</div>
              </div>
            </div>
            
            <!-- Edit Profile Button -->
            <div class="profile-actions">
              <button type="button" class="primary-button" id="edit-profile-btn">Edit Profile</button>
            </div>
            
            <!-- Hidden form for editing mode -->
            <form id="profile-form" class="profile-form" style="display: none;">
              <div class="form-group">
                <label for="full-name">Full Name <span class="required required-profile">*</span></label>
                <input type="text" id="full-name" name="full_name" required>
                <div class="form-hint">This name will be displayed on your profile</div>
              </div>
              
              <div class="form-group">
                <label for="email">Email Address <span class="required required-profile">*</span></label>
                <input type="email" id="email" name="email" required>
              </div>
              
              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="text" id="phone" name="phone">
                <div class="form-hint">Used for account recovery and important notifications</div>
              </div>

              <button type="submit" class="primary-button save-profile-btn">Save Changes</button>

            </form>
          </div>

          <!-- Subscription Sections -->
          <div class="subscription-sections">
            <div id="subscription-choose" class="settings-section">
              <div class="section-header">
                <h2>Choose Subscription</h2>
                <p>Select a subscription plan that works for you</p>
              </div>
              
              <div class="subscription-content">
                <div class="subscription-plans">
                  <div class="plan-card">
                    <div class="plan-header">
                      <h3>Free</h3>
                      <div class="plan-price">$0<span>/month</span></div>
                    </div>
                    <div class="plan-features">
                      <ul>
                        <li>Basic features</li>
                        <li>Limited storage</li>
                        <li>Email support</li>
                      </ul>
                    </div>
                    <button class="plan-button current">Current Plan</button>
                  </div>
                  
                  <div class="plan-card">
                    <div class="plan-header">
                      <h3>Pro</h3>
                      <div class="plan-price">$9.99<span>/month</span></div>
                    </div>
                    <div class="plan-features">
                      <ul>
                        <li>All Free features</li>
                        <li>Advanced analytics</li>
                        <li>Priority support</li>
                        <li>Unlimited storage</li>
                      </ul>
                    </div>
                    <button class="plan-button primary-button">Upgrade</button>
                  </div>
                  
                  <div class="plan-card">
                    <div class="plan-header">
                      <h3>Enterprise</h3>
                      <div class="plan-price">$29.99<span>/month</span></div>
                    </div>
                    <div class="plan-features">
                      <ul>
                        <li>All Pro features</li>
                        <li>Dedicated support</li>
                        <li>Custom integrations</li>
                        <li>Team management</li>
                      </ul>
                    </div>
                    <button class="plan-button primary-button">Upgrade</button>
                  </div>
                </div>
                
                <div class="subscription-form-container">
                  <h3>Subscribe to our newsletter</h3>
                  <form class="subscription-form">
                    <div class="form-group">
                      <label for="subscription-email">Email Address</label>
                      <input type="email" id="subscription-email" name="email" placeholder="your.email@example.com">
                    </div>
                    <div class="form-actions">
                      <button type="submit" class="primary-button">Subscribe</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <div id="subscription-change" class="settings-section">
              <div class="section-header">
                <h2>Change Subscription</h2>
                <p>Modify your current subscription plan</p>
              </div>
              
              <div class="subscription-content"></div>
                <div class="current-plan-info">
                  <div class="info-card">
                    <div class="info-card-icon">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect width="20" height="14" x="2" y="5" rx="2"></rect>
                        <line x1="2" x2="22" y1="10" y2="10"></line>
                      </svg>
                    </div>
                    <div class="info-card-content">
                      <h3>Current Plan: Free</h3>
                      <p>Your subscription renews on <strong>January 1, 2026</strong></p>
                    </div>
                  </div>
                </div>
                
                <div class="billing-history">
                  <h3>Billing History</h3>
                  <div class="billing-table">
                    <div class="billing-header">
                      <div class="billing-cell">Date</div>
                      <div class="billing-cell">Amount</div>
                      <div class="billing-cell">Status</div>
                      <div class="billing-cell">Invoice</div>
                    </div>
                    <div class="billing-row">
                      <div class="billing-cell">Dec 1, 2024</div>
                      <div class="billing-cell">$0.00</div>
                      <div class="billing-cell"><span class="status-paid">Paid</span></div>
                      <div class="billing-cell"><a href="#" class="invoice-link">View</a></div>
                    </div>
                    <div class="billing-row">
                      <div class="billing-cell">Nov 1, 2024</div>
                      <div class="billing-cell">$0.00</div>
                      <div class="billing-cell"><span class="status-paid">Paid</span></div>
                      <div class="billing-cell"><a href="#" class="invoice-link">View</a></div>
                    </div>
                  </div>
                </div>
                
                <div class="payment-methods">
                  <h3>Payment Methods</h3>
                  <div class="payment-card">
                    <div class="payment-card-icon">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect width="20" height="14" x="2" y="5" rx="2"></rect>
                        <line x1="2" x2="22" y1="10" y2="10"></line>
                      </svg>
                    </div>
                    <div class="payment-card-details">
                      <div class="card-name">Visa ending in 4242</div>
                      <div class="card-expiry">Expires 12/25</div>
                    </div>
                    <div class="payment-card-actions">
                      <button class="text-button">Edit</button>
                      <button class="text-button">Remove</button>
                    </div>
                  </div>
                  
                  <button class="secondary-button add-payment-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M5 12h14"></path>
                      <path d="M12 5v14"></path>
                    </svg>
                    Add Payment Method
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  <script type="module" src="{{ url_for('frontend.static_files', filename='js/account/account.js') }}"></script>
{% endblock %}

