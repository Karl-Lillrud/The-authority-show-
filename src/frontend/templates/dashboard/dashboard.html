{% extends "components/base.html" %}
{% block title %}Team Leaderboard Dashboard{% endblock %}
{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard/dashboard.css') }}" />

<div class="container">
  <main class="main-content">
    <section class="leaderboard-section">
      <h2>Team Leaderboard</h2>
      <div class="team-leaderboard">
        <table class="leaderboard-table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Tasks Completed</th>
              <th>Total Points</th>
              <th>Months Won</th>
              <th>Shadow Goal</th>
            </tr>
          </thead>
          <tbody>
            {% for member in team_leaderboard %}
            <tr>
              <td>{{ member.name }}</td>
              <td>{{ member.tasks_completed }}</td>
              <td>{{ member.total_points }}</td>
              <td>{{ member.months_won }}</td>
              <td>{{ member.shadow_goal }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </section>

    <section class="task-cards">
      <div class="cards-container">
        {% for guest in guests %}
        <div class="card">
          <h3>{{ guest.name }}</h3>
          <ul class="task-list">
            {% for task in guest.tasks %}
            <li>
              <span class="task-text">{{ task.description }}</span>
              <input type="checkbox" class="task-check" {% if task.completed %}checked{% endif %} />
              <span class="checkmark"></span>
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endfor %}
      </div>
    </section>

<!-- Welcome Popup -->
<div id="welcome-popup" class="popup" style="display: none;">
  <div class="popup-content">
    <span id="close-welcome-popup" class="close-btn">&times;</span>
    <h2>Welcome to PodManager.ai!</h2>
    <p>ðŸŽ‰ Congratulations!</p>
    <p>Your spot in the Beta Tester queue is locked in! Get ready for your exclusive sneak peek...</p>
    <p>ðŸ’° To kick things off, weâ€™ve added 3,500 Credits to your account!</p>
    <p>PodManager.ai will revolutionize your podcasting with AI-powered workflow automation, seamless guest management, and faster episode production- so you can focus on creating amazing content!</p>
    <p>âœ¨ Check your email right now for more exciting features!</p>
  </div>
</div>

<script type="module" src="{{ url_for('frontend.static_files', filename='js/dashboard/dashboard.js') }}"></script>
{% endblock %}
