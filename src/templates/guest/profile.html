<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ guest.name }}'s Profile</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/guest.css') }}">
</head>

<body>
  <div class="container">
    <button onclick="window.location.href='{{ url_for(&#39;guest&#39;) }}'" style="margin-bottom:20px;">&larr; Back to
      Guest List</button>
    <div class="profile neumorphic-card" id="profile">
      <img src="{{ url_for('static', filename='images/' ~ guest.image) }}" alt="{{ guest.name }}'s Profile Picture"
        id="profile-pic" />
      <h1 id="guest-name">{{ guest.name }}</h1>
      <p id="guest-bio">{{ guest.bio }}</p>
      <div class="tags" id="guest-tags">
        {% for tag in guest.tags %}
        <span>{{ tag }}</span>
        {% endfor %}
      </div>
      <p id="areas-of-interest">
        {% if guest.areasOfInterest and guest.areasOfInterest|length > 0 %}
        Areas of Interest: {{ guest.areasOfInterest|join(', ') }}
        {% endif %}
      </p>
      <div id="communication-status">
        <span class="badge" id="status-badge">{{ guest.status|capitalize }}</span>
      </div>
      <p id="guest-email">Email: <a href="mailto:{{ guest.email }}" id="email-link">{{ guest.email }}</a></p>
      <p id="guest-social">Social: <a href="{{ guest.linkedin }}">LinkedIn</a> | <a
          href="{{ guest.twitter }}">Twitter</a></p>
    </div>

    <!-- Bio Section with Inline Editing -->
    <div class="bio-section" id="bio-container">
      <h2>Bio <span id="edit-bio-icon">&#9998;</span></h2>
      <p id="guest-bio-text">{{ guest.bio }}</p>
    </div>

    <!-- Calendar Metrics: Scheduled & Completed -->
    <div class="engagement neumorphic-card">
      <div>
        <h3>Scheduled</h3>
        <p id="scheduled-count">{{ guest.scheduled }}</p>
      </div>
      <div>
        <h3>Completed</h3>
        <p id="completed-count">{{ guest.completed }}</p>
      </div>
    </div>

    <div class="profile-actions">
      <button id="edit-profile-btn">Edit Profile</button>
      <button id="remove-profile-btn">Remove Guest</button>
    </div>
  </div>

  <!-- Popup Modal for Editing Profile (hidden by default) -->
  <div id="popup" class="popup hidden">
    <div class="popup-content">
      <span class="close-button">&times;</span>
      <h2 id="popup-title"></h2>
      <form id="popup-form"></form>
    </div>
  </div>
  <script src="{{ url_for('static', filename='guest/main.js') }}"></script>
</body>

</html>