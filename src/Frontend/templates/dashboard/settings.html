{% extends "dashboard/components/base.html" %} 
{% block title %}Podcast Task Management{% endblock %} 
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}" />
<!-- Include QRCode library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script type="module" src="{{ url_for('frontend.static_files', filename='js/account.js') }}"></script>
<div class="account-settings-wrapper">
  <!-- Sidebar Menu -->
  <aside class="sidebar">
    <nav>
      <ul>
        <li class="sidebar-item active" data-target="subscriptions-section" tabindex="0">
          Subscriptions
        </li>
        <li class="sidebar-item" data-target="security-section" tabindex="0">
          Security
        </li>
        <li class="sidebar-item" data-target="recovery-section" tabindex="0">
          Recovery
        </li>
        <li class="sidebar-item" data-target="update-profile-section" tabindex="0">
          Update profile
        </li>
        <li class="sidebar-item" data-target="delete-section" tabindex="0" style="color: red;">
          Delete account
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content Area -->
  <section class="main-content">
    <!-- Back Arrow common for all sections -->
    <a href="{{ url_for('dashboard_bp.dashboard') }}" class="back-arrow">&#8592; Back</a>

    <!-- Subscriptions Section -->
    <div id="subscriptions-section" class="settings-section">
      <h2 data-i18n="subscriptions.title">Subscriptions</h2>
      <div class="subscription-content">
        <!-- Left Column: Subscription Plans -->
        <div class="subscriptions-container">
          <h2 class="header-title">Choose Your Plan To Improve Your Efficiency</h2>
          <div class="subscription-plans">
            <div class="subscription-card">
              <h3>üéâ Free Plan (1 Month)</h3>
              <ul>
                <li>‚úî Basic Podcast Management Features</li>
                <li>‚úî Limited Guest Invitations</li>
                <li>‚úî Standard Support</li>
              </ul>
            </div>
            <div class="subscription-card">
              <h3>üíé Paid User Plan</h3>
              <ul>
                <li>‚úî Supreme Podcast Management Features</li>
                <li>‚úî Unlimited Guest Invitations</li>
                <li>‚úî Priority Support</li>
              </ul>
            </div>
            <div class="subscription-card">
              <h3>üè¢ Paid Corporate Plan</h3>
              <ul>
                <li>‚úî Team Collaboration Features</li>
                <li>‚úî Multiple Podcasts under same account</li>
                <li>‚úî Dedicated Account Manager</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Security Section -->
    <div id="security-section" class="settings-section" style="display: none;">
      <h2 data-i18n="securitySettings.title">Security Settings</h2>
      <div class="toggle-container">
        <span data-i18n="securitySettings.enable2FA">Two-Factor Authentication:</span>
        <label class="switch" aria-label="Toggle Two-Factor Authentication">
          <input type="checkbox" id="2fa-toggle" aria-checked="false" />
          <span class="slider round"></span>
        </label>
      </div>
    </div>

    <!-- Recovery Section -->
    <div id="recovery-section" class="settings-section" style="display: none;">
      <h2 id="recovery-title" data-i18n="recovery.title">Recovery</h2>
      <button type="button" id="lost-2fa" class="button button-secondary" data-i18n="recovery.lost2FA">
        Lost Two-Factor Authentication
      </button>
    </div>

    <!-- Update Profile Section -->
    <div id="profile-section" class="settings-section" style="display: none;">
      <div class="profile-container">
        <h2>Profile</h2>
        <form id="profile-form">
          <label for="full-name">Full Name</label>
          <input type="text" id="full-name" placeholder="Enter your full name" value="{{ full_name }}" />
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="Enter your email" value="{{ email }}" />
          <label for="password">Current Password</label>
          <input type="password" id="password" placeholder="Enter current password" />
          <label for="new-password">New Password</label>
          <input type="password" id="new-password" placeholder="Enter new password" />
          <label for="confirm-password">Confirm Password</label>
          <input type="password" id="confirm-password" placeholder="Confirm new password" />
          <button type="submit">Save Changes</button>
        </form>
      </div>
    </div>

    <!-- Delete Account Section -->
    <div id="delete-section" class="settings-section" style="display: none;">
      <div class="delete-account-container">    
        <h2>Delete Account</h2>
        <p style="color: red;">This action cannot be undone. Once you delete your account, all associated data will be permanently removed.</p>
        <form id="delete-account-form" action="javascript:void(0)" novalidate>
          <label for="delete-email">Email</label>
          <input type="email" id="delete-email" name="deleteEmail" placeholder="Enter your email" required />
          <label for="delete-password">Current Password</label>
          <input type="password" id="delete-password" name="deletePassword" placeholder="Enter your current password" required />
          <label for="confirm-delete-password">Confirm Password</label>
          <input type="password" id="confirm-delete-password" name="confirmDeletePassword" placeholder="Re-enter your current password" required />
          <label for="delete-confirm">Please type <strong>DELETE</strong> to confirm:</label>
          <input type="text" id="delete-confirm" name="deleteConfirm" placeholder="Type DELETE to confirm" pattern="DELETE" title="You must type DELETE exactly to confirm account deletion." required aria-required="true" />
          <button type="submit" class="button button--danger">Delete Account</button>
          <button type="button" id="cancel-delete" class="button button--secondary">Cancel</button>
        </form>
      </div>
    </div>
  </section>
</div>
{% endblock %}
