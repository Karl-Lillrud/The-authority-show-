{% extends "base.html" %}

{% block title %}Recording Studio - PodManager{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/recordingstudio/recording_studio.css') }}">
{% endblock %}

{% block content %}
<div class="studio-container">
    <div class="studio-header">
        <h1>Recording Studio</h1>
        <div class="episode-info">
            <div id="episode-id-display" class="episode-id"></div>
            <div class="recording-status">
                <span class="status-indicator"></span>
                <span class="status-text">Ready to Record</span>
            </div>
        </div>
        <div class="studio-controls">
            <button id="recordButton" class="control-button">
                <i class="fas fa-microphone"></i>
                Record
            </button>
            <button id="stopButton" class="control-button" disabled>
                <i class="fas fa-stop"></i>
                Stop
            </button>
            <button id="playButton" class="control-button" disabled>
                <i class="fas fa-play"></i>
                Play
            </button>
        </div>
    </div>

    <div class="studio-layout">
        <!-- Main Recording Area -->
        <div class="recording-area">
            <div class="waveform-container">
                <canvas id="waveform"></canvas>
            </div>
            <div class="recording-info">
                <div class="timer">00:00</div>
                <div class="recording-status">Ready to record</div>
            </div>
        </div>

        <!-- Green Room Section -->
        <div class="green-room">
            <div class="green-room-header">
                <h2>Green Room</h2>
                <button class="invite-button" id="inviteButton">
                    <i class="fas fa-user-plus"></i>
                    Invite Guest
                </button>
            </div>

            <div class="guests-list">
                <!-- Guest cards will be dynamically added here -->
            </div>

            <div class="green-room-chat">
                <div class="chat-messages">
                    <!-- Chat messages will be dynamically added here -->
                </div>
                <div class="chat-input">
                    <input type="text" placeholder="Type a message..." id="chatInput">
                    <button id="sendMessage">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="studio-footer">
        <div class="recording-actions">
            <button id="saveRecording" class="action-button save" disabled>
                <i class="fas fa-save"></i>
                Save Recording
            </button>
            <button id="discardRecording" class="action-button discard" disabled>
                <i class="fas fa-trash"></i>
                Discard
            </button>
        </div>
    </div>
</div>

<!-- Invite Guest Modal -->
<div class="modal" id="inviteModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Invite Guest</h3>
            <button class="close-modal">&times;</button>
        </div>
        <form id="inviteForm">
            <div class="form-group">
                <label for="guestName">Guest Name</label>
                <input type="text" id="guestName" required>
            </div>
            <div class="form-group">
                <label for="guestEmail">Email Address</label>
                <input type="email" id="guestEmail" required>
            </div>
            <div class="form-actions">
                <button type="button" class="close-modal">Cancel</button>
                <button type="submit" class="invite-button">Send Invitation</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://kit.fontawesome.com/your-font-awesome-kit.js"></script>
<script type="module" src="{{ url_for('static', filename='js/recordingstudio/recording_studio.js') }}"></script>
{% endblock %}
